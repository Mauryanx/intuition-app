@startuml "Guest Conversion Flow Activity Diagram"

!theme aws-orange

' Global background and contrast settings
skinparam backgroundColor #FFFFFF
skinparam defaultFontColor #000000

' Activity styling
skinparam activity {
  BackgroundColor #E8F4FD
  BorderColor #2E86C1
  BorderThickness 2
  FontColor #000000
  FontSize 11
  FontStyle normal
}

' Decision styling
skinparam diamond {
  BackgroundColor #FFE6CC
  BorderColor #FF9933
  BorderThickness 2
  FontColor #000000
  FontSize 10
  FontStyle bold
}

' Start/End styling
skinparam circle {
  BackgroundColor #32CD32
  BorderColor #228B22
  BorderThickness 3
}

' Arrow styling
skinparam arrow {
  Color #000000
  Thickness 2
}

' Note styling
skinparam note {
  BackgroundColor #FFFACD
  BorderColor #DAA520
  BorderThickness 2
  FontColor #000000
}

' Partition styling
skinparam partition {
  BackgroundColor #F8F9FA
  BorderColor #6C8EBF
  BorderThickness 2
  FontColor #2E86C1
  FontSize 12
  FontStyle bold
}

title <size:18><color:#2E86C1><b>üéØ Guest Conversion Flow - Value-First Onboarding</b></color></size>

start

partition "Guest Experience (Anonymous)" {
  :User Opens App;
  note right: First-time visitor\nNo registration required

  :View Welcome Screen;
  note right: Compelling intro:\n‚Ä¢ What is intuition?\n‚Ä¢ Why it matters in AI age\n‚Ä¢ Pain points of poor intuition

  :See Benefits & Examples;
  note left: Show transformation:\n‚Ä¢ Success stories\n‚Ä¢ Real-world applications\n‚Ä¢ Life improvements

  :Take Anonymous Assessment;
  note right: Quick evaluation:\n‚Ä¢ 5-10 questions\n‚Ä¢ No login required\n‚Ä¢ Builds investment
}

partition "Value Demonstration" {
  :Generate Personalized Results;
  note left: System processes:\n‚Ä¢ Assessment responses\n‚Ä¢ Intuition strengths/weaknesses\n‚Ä¢ Custom learning path

  :Display Learning Path;
  note right: Show personalized:\n‚Ä¢ Recommended minigames\n‚Ä¢ Skill development plan\n‚Ä¢ Expected outcomes

  :Preview Training Content;
  note left: Limited preview:\n‚Ä¢ Sample minigame\n‚Ä¢ Teaser of full experience\n‚Ä¢ Build desire for more
}

partition "Conversion Point" {
  if (User Interested?) then (yes)
    :Show Subscription Options;
    note right: Superwall integration:\n‚Ä¢ Pricing tiers\n‚Ä¢ Feature comparison\n‚Ä¢ Limited-time offers

    if (Choose Plan?) then (yes)
      :Process Payment;
      note left: Superwall handles:\n‚Ä¢ Payment processing\n‚Ä¢ Receipt validation\n‚Ä¢ Subscription activation
    else (no)
      :Save Progress as Guest;
      note right: Allow return:\n‚Ä¢ Store assessment data\n‚Ä¢ Enable comeback flow\n‚Ä¢ Email capture optional
      stop
    endif
  else (no)
    :Save Progress as Guest;
    note right: Allow return:\n‚Ä¢ Store assessment data\n‚Ä¢ Enable comeback flow\n‚Ä¢ Email capture optional
    stop
  endif
}

partition "Post-Subscription Authentication" {
  :Show Authentication Options;
  note right: OAuth choices:\n‚Ä¢ Sign in with Google\n‚Ä¢ Sign in with Apple\n‚Ä¢ Quick & secure

  if (Choose Auth Method?) then (Google)
    :Google OAuth Flow;
    note left: Google handles:\n‚Ä¢ User authentication\n‚Ä¢ Secure token exchange\n‚Ä¢ Profile data access
  else (Apple)
    :Apple ID Flow;
    note right: Apple handles:\n‚Ä¢ User authentication\n‚Ä¢ Privacy-focused signin\n‚Ä¢ Minimal data sharing
  endif

  :Validate OAuth Token;
  note left: System verifies:\n‚Ä¢ Token authenticity\n‚Ä¢ User permissions\n‚Ä¢ Account status
}

partition "Profile Creation & Setup" {
  :Create User Profile;
  note right: Combine data:\n‚Ä¢ OAuth user info\n‚Ä¢ Assessment results\n‚Ä¢ Subscription details

  :Save Learning Path to Profile;
  note left: Personalize account:\n‚Ä¢ Custom training plan\n‚Ä¢ Progress tracking setup\n‚Ä¢ Goal establishment

  :Setup Complete - Enter App;
  note right: Full access granted:\n‚Ä¢ All premium features\n‚Ä¢ Personalized experience\n‚Ä¢ Progress tracking active
}

stop

' Legend
legend bottom
  <color:#E8F4FD>‚ñ†</color> Process Activities
  <color:#FFE6CC>‚óÜ</color> Decision Points
  <color:#32CD32>‚óè</color> Start/End Points
  <color:#F8F9FA>‚ñ°</color> Process Phases
  <color:#000000>‚Üí</color> Flow Direction
endlegend

' Footer
center footer <color:#666666><i>Generated for Intuition Training App - Guest Conversion Flow</i></color>

@enduml
